{% load widget_tweaks %}

<div class="col-md-3">
  {% if label %}
    <label>{{label}}</label>
  {% endif %}
  <select name = 'mechanism' class="custom-select my-1 mr-sm-3" id="mechanism_id">
    {% if product %}
      <option value="{{ product.mechanism}}">{{ product.get_mechanism_display }}</option>
    {% else %}
      <option value="">--Mechanism</option>
    {% endif %}
  {% for x, y in field.choices %}
    <option style = "background-color: {{ x }}" value="{{ x }}">{{ y }}</option>
  {% endfor %}
  </select>
</div>
