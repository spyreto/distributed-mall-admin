/*!
 * Distributed Mall Admin v1.1.0 (https://github.com/spyreto/distributed-mall-admin)
 * Copyright 2019-2022 Dimos - Spiridon Dimou
 * Licensed under MIT (https://github.com/BlackrockDigital/distributed-mall-admin/blob/master/LICENSE)
 */

!function(s){"use strict";s("#sidebarToggle").on("click",function(t){t.preventDefault(),s("body").toggleClass("sidebar-toggled"),s(".sidebar").toggleClass("toggled")}),s("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(t){var e;768<s(window).width()&&(e=(e=t.originalEvent).wheelDelta||-e.detail,this.scrollTop+=30*(e<0?1:-1),t.preventDefault())}),s(document).on("scroll",function(){100<s(this).scrollTop()?s(".scroll-to-top").fadeIn():s(".scroll-to-top").fadeOut()}),s(document).on("click","a.scroll-to-top",function(t){var e=s(this);s("html, body").stop().animate({scrollTop:s(e.attr("href")).offset().top},1e3,"easeInOutExpo"),t.preventDefault()}),s("#add-image").on("click",function(){var t,e,i,a,o,l,n=s(".custom-file-input").length;n<=3?(t=s('<div class="form-group" id="field'+n+'">'),e=s('<div class="form-row">'),i=s('<div class="col-md-10">'),a=s('<div class="custom-file">'),o=s('<input type="file" id="validatedCustomFile-'+n+'" class="custom-file-input" accept="image/*">'),l=s('<label class="custom-file-label" for="validatedCustomFile-'+n+'">Choose image... </label></div></div></div>'),a.append(o),a.append(l),i.append(a),e.append(i),t.append(e),s("#images_formset").append(t),s(".custom-file-input").on("change",function(){var t=s(this).val().split("\\").pop(),t=(s(this).siblings(".custom-file-label").addClass("selected").html(t),s(".has-img").length);s(this).addClass("has-img"),s(this).attr("name","form-"+t+"-image")}),3==n&&(s("#add-image").prop("disabled",!0),s("#add-image").attr("class","btn btn-outline-secondary"))):(s("#add-image").prop("disabled",!0),s("#add-image").attr("class","btn btn-outline-secondary")),s("#delete-image").show()}),s("#delete-image").on("click",function(){var t=s(".custom-file-input").length-1;s("#"+("field"+t)).remove(),s("#add-image").prop("disabled",!1),s("#add-image").attr("class","btn btn-outline-primary"),t||s("#delete-image").hide()}),s(".color-selection").on("change",function(){var t=s(this).val();s(this).css("background-color",t)}),s("#quantities").on("change",function(){var t=0;s("#quantities :input").filter(".form-control").each(function(){t+=Number(s(this).val())}),s("#quantity").val(t)}),s("#discount_price").on("change",function(){var t=s("#price").val(),e=s("#discount_price").val();s("#discount_rate").val(((t-e)/t*100).toFixed(1))}),s(".product-process-img-input").on("change",function(){var t=s(this).val().split("\\").pop();s(this).siblings(".custom-file-label").addClass("selected").html(t)}),s(".product-process-img-rmv-btn").on("click",function(){s(this).toggleClass("btn btn-outline-danger"),s(this).toggleClass("btn btn-outline-secondary");var t=s(this).attr("id");s(this).hasClass("btn btn-outline-secondary")?(s(this).html("Cancel"),s("#"+t+"-DELETE").prop("checked",!0)):(s(this).html("Remove"),s("#"+t+"-DELETE").prop("checked",!1))}),s(".clickable-row").click(function(){window.location=s(this).data("href")}),s("#search-form").submit(function(t){var e=s("#search-input").val();e&&(window.location="/search-results/"+e),t.preventDefault()}),s("#search-input-btn").click(function(){var t=s("#search-input").val();t&&(window.location="/search-results/"+t)})}(jQuery);