/*!
 * Distributed Mall Admin v1.1.0 (https://github.com/spyreto/distributed-mall-admin)
 * Copyright 2019-2022 Dimos - Spiridon Dimou
 * Licensed under MIT (https://github.com/BlackrockDigital/distributed-mall-admin/blob/master/LICENSE)
 */

function googleMapAdmin(){var n,d,o,t=new google.maps.Geocoder,a="geolocation",r="address",i={initialize:function(){var e=40.6317,o=22.9346,t=13,a=i.getExistingLocation(),e=(a&&(e=a[0],o=a[1],t=18),new google.maps.LatLng(e,o)),o={zoom:t,center:e,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0};d=new google.maps.Map(document.getElementById("map"),o),a&&i.setMarker(e),(n=new google.maps.places.Autocomplete(document.getElementById(r),{types:["geocode"]})).addListener("place_changed",i.codeAddress),$("#"+r).keydown(function(e){if(13==e.keyCode)return e.preventDefault(),!1})},getExistingLocation:function(){var e=document.getElementById(a).value;if(e)return e.split(",")},codeAddress:function(){var e=n.getPlace();void 0!==e.geometry?i.updateWithCoordinates(e.geometry.location):t.geocode({address:e.name},function(e,o){o==google.maps.GeocoderStatus.OK?(e=e[0].geometry.location,i.updateWithCoordinates(e)):alert("Geocode was not successful for the following reason: "+o)})},updateWithCoordinates:function(e){d.setCenter(e),d.setZoom(18),i.setMarker(e),i.updateGeolocation(e)},setMarker:function(e){o?i.updateMarker(e):i.addMarker({latlng:e,draggable:!0})},addMarker:function(e){o=new google.maps.Marker({map:d,position:e.latlng}),!e.draggable&&1||i.addMarkerDrag(o)},addMarkerDrag:function(){o.setDraggable(!0),google.maps.event.addListener(o,"dragend",function(e){i.updateGeolocation(e.latLng)})},updateMarker:function(e){o.setPosition(e)},updateGeolocation:function(e){document.getElementById(a).value=e.lat()+","+e.lng(),$("#"+a).trigger("change")}};return i}$(document).ready(function(){googleMapAdmin().initialize()});